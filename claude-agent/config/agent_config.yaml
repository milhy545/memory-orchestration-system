# HAS Claude Agent Configuration
# Optimized for Home Automation Server with 4GB RAM

anthropic:
  model: "claude-3-haiku-20240307"
  max_tokens: 4096

resource_limits:
  ram_warn_mb: 3200      # 80% of 4GB
  ram_critical_mb: 3600   # 90% of 4GB  
  cpu_warn_percent: 70
  cpu_critical_percent: 85

mcp:
  base_url: "http://localhost:8020"
  direct_bridge_path: "/home/orchestration/direct_mcp_bridge.py"
  tools:
    # Filesystem operations
    - "file_list"
    - "file_read" 
    - "file_write"
    - "file_search"
    - "file_analyze"
    
    # Terminal operations
    - "terminal_exec"
    - "shell_command"
    - "system_info"
    
    # Git operations
    - "git_status"
    - "git_commit"
    - "git_push"
    - "git_log"
    - "git_diff"
    
    # Memory operations
    - "store_memory"
    - "search_memories"
    - "memory_stats"
    - "get_context"
    - "list_memories"
    
    # Research operations
    - "research_query"
    - "perplexity_search"
    - "web_search"
    
    # Transcriber operations
    - "transcribe_webm"
    - "transcribe_url"
    - "audio_convert"

fallback:
  ollama_url: "http://192.168.0.41:5000"
  ollama_model: "deepseek-coder:1.3b"
  workstation_url: "http://192.168.0.10:8000"
  enable_fallback: true
  fallback_on_error: true
  fallback_on_resource_limit: true

logging:
  level: "INFO"
  file: "/home/orchestration/claude-agent/logs/agent.log"
  max_file_size_mb: 10
  backup_count: 5

performance:
  request_timeout: 60
  max_concurrent_requests: 2
  health_check_interval: 300  # 5 minutes
  
# Environment-specific settings
environment:
  has_ip: "192.168.0.58"
  workstation_ip: "192.168.0.10"
  ollama_ip: "192.168.0.41"
  
# Service discovery
services:
  zen_coordinator: "http://localhost:8020"
  postgresql: "localhost:5432"
  redis: "localhost:6379"
  qdrant: "localhost:6333"