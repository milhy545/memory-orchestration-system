version: "3.8"

services:
  # 8021: PostgreSQL MCP - Database Operations
  postgresql-mcp:
    build: /home/orchestration/mcp-servers/postgresql-mcp
    container_name: mcp-postgresql-wrapper
    ports:
      - "8021:8000"
    environment:
      - DATABASE_URL=postgresql://mcp_admin:change_me_in_production@postgresql:5432/mcp_unified
    depends_on:
      - postgresql
    networks:
      - mcp-network

  # 8022: Redis MCP - Cache and Session Management  
  redis-mcp:
    build: /home/orchestration/mcp-servers/redis-mcp
    container_name: mcp-redis-wrapper
    ports:
      - "8022:8000"
    environment:
      - REDIS_URL=redis://redis:6379
    depends_on:
      - redis
    networks:
      - mcp-network

  # 8023: Qdrant MCP - Vector Database Operations
  qdrant-mcp:
    build: /home/orchestration/mcp-servers/qdrant-mcp
    container_name: mcp-qdrant-wrapper
    ports:
      - "8023:8000"
    environment:
      - QDRANT_URL=http://qdrant:6333
    depends_on:
      - qdrant
    networks:
      - mcp-network

networks:
  mcp-network:
    external: true